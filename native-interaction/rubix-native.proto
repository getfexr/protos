syntax = "proto3";

package protos;

option go_package = "github.com/getfexr/protos";

message CreateDIDReq {
  string didImage = 1;
  string publicShare = 2;
  string publicKey = 3;
}

message CreateDIDRes {
  string did = 1;
  bool status = 2;
}

message RequestTransactionPayloadReq {
  string receiver = 1;
  string sender = 2;
  double tokenCount = 3;
  string comment = 4;
  int32 type = 5;
}

message RequestTransactionPayloadRes {
  string requestId = 1;
  string hash = 2;
}

message HashSigned {
  string id = 1;
  bytes pvtSign = 2;
  bytes imgSign = 3;
}

message Status {
  bool status = 1;
}

message GenerateReq {
  double tokenCount = 1;
  string did = 2;
}

service RubixService {
  rpc CreateDID (CreateDIDReq) returns (CreateDIDRes) {}
  rpc InitiateTransaction (RequestTransactionPayloadReq) returns (RequestTransactionPayloadRes) {}
  rpc SignResponse (HashSigned) returns (Status) {}
  rpc GenerateRbt (GenerateReq) returns (RequestTransactionPayloadRes) {}
}
